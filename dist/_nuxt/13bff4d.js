(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{461:function(t,e,o){t.exports=o.p+"img/search.9b0d6e6.png"},515:function(t,e,o){var content=o(529);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(22).default)("f4c5af4c",content,!0,{sourceMap:!1})},528:function(t,e,o){"use strict";o(515)},529:function(t,e,o){var n=o(21)((function(i){return i[1]}));n.push([t.i,".map[data-v-e3b77804]{height:500px;width:800px}",""]),n.locals={},t.exports=n},556:function(t,e,o){"use strict";o.r(e);o(59),o(50),o(17),o(20),o(81),o(43),o(2),o(173);var n=o(435),l=o(441),r=o(436),c={components:{LMap:n.a,LTileLayer:l.a,LMarker:r.a},data:function(){return{zoom:12,center:[6.465422,3.406448],url:"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',type:"",radius:"",lat:0,lng:0,places:[],facility:""}},computed:{},methods:{handleInput:function(){var t=this;navigator.geolocation.getCurrentPosition((function(e){t.lat=e.coords.latitude,t.lng=e.coords.longitude,console.log(t.lat,t.lng)}),(function(t){console.log("Error getting location")}))},findCloseFacility:function(){var t=this,e="https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=\n                ".concat(this.lat,",\n                ").concat(this.lng,"\n                $type=").concat(this.type,"\n                &radius=").concat(1e3*this.radius,"&key=[APIKEY]}");console.log(this.lat,this.lng),axios.get(e).then((function(e){console.log(e.data),t.places=e.data.results})).catch((function(t){console.log(t.message)}))},addLocationsToGoogleMaps:function(){var map=new google.maps.Map(this.$refs.map,{zoom:15,center:new google.maps.LatLng(this.lat,this.lng),mapTypeId:google.maps.MapTypeId.ROADMAP}),t=new google.maps.infoWindow;this.places.forEach((function(e){var o=e.geometry.location.lat,n=e.geometry.location.lng,marker=new google.maps.Marker({position:new google.maps.LatLng(o,n),map:map});google.maps.event.addListener(marker,"click",(function(){t.setContent('<div class="header">'.concat(e.name,"</div><p>").concat(e.vicinity,"</p>")),t.open(map,marker)}))}))}}},d=(o(528),o(14)),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"md:flex md:flex-row md:justify-between"},[e("main",{staticClass:"md:w-5/12"},[e("nuxt-link",{staticClass:"mb-6",attrs:{to:"/dashboard/services"}},[e("button",{staticClass:"text-white bg-gray-600 rounded-full font-medium text-xs px-3 py-2.5 mt-3 mb-6"},[t._v("\n        Go Back\n      ")])]),t._v(" "),e("div",{staticClass:"bg-white rounded-md py-3 lg:pr-10"},[e("p",{staticClass:"text-gray-500 text-[1rem]"},[t._v("Let's help you locate the closest facility to you.")]),t._v(" "),e("div",{staticClass:"relative"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coordinates,expression:"coordinates"}],staticClass:"py-3 pl-3 border-[0.9px] bg-gray-50 outline-none rounded-md shadow-sm w-full",attrs:{value:"coordinates",type:"text",placeholder:"Enter address"},domProps:{value:t.coordinates},on:{input:function(e){e.target.composing||(t.coordinates=e.target.value)}}}),t._v(" "),e("img",{staticClass:"absolute right-[1rem] top-[1.3rem] cursor-pointer h-5 w-5",attrs:{src:o(461)},on:{click:t.handleInput}})]),t._v(" "),e("div",{staticClass:"facility-radius flex flex-row justify-between items-center space-x-3 mt-6"},[e("div",{staticClass:"facility w-full"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"w-[100%] py-3 px-3 border-[0.9px] bg-gray-50 outline-none rounded-md shadow-sm",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.type=e.target.multiple?o:o[0]}}},[e("option",{attrs:{value:""}},[t._v("Select facility")]),t._v(" "),e("option",{attrs:{value:"hospital"}},[t._v("Hospital")]),t._v(" "),e("option",{attrs:{value:"pharmacy"}},[t._v("Pharmacy")]),t._v(" "),e("option",{attrs:{value:"clinic"}},[t._v("Clinic")]),t._v(" "),e("option",{attrs:{value:"laboratory"}},[t._v("Laboratory")])])]),t._v(" "),e("div",{staticClass:"radius w-full"},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.radius,expression:"radius"}],staticClass:"w-[100%] py-3 px-3 border-[0.9px] bg-gray-50 outline-none rounded-md shadow-sm",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.radius=e.target.multiple?o:o[0]}}},[e("option",{attrs:{value:""}},[t._v("Select radius")]),t._v(" "),e("option",{attrs:{value:"5"}},[t._v("5 KM")]),t._v(" "),e("option",{attrs:{value:"10"}},[t._v("10 KM")]),t._v(" "),e("option",{attrs:{value:"15"}},[t._v("15 KM")]),t._v(" "),e("option",{attrs:{value:"20"}},[t._v("20 KM")])])])]),t._v(" "),e("button",{staticClass:"bg-[#086406] text-white py-[.8em] px-3 mt-4 rounded w-full",on:{click:t.findCloseFacility}},[t._v("Search")]),t._v(" "),e("div",{staticStyle:{"max-height":"500px",overflow:"scroll"}},t._l(t.places,(function(o){return e("div",{key:o.id,staticClass:"item"},[e("div",{staticClass:"content"},[e("div",{staticClass:"header"},[t._v(t._s(o.name))]),t._v(" "),e("div",{staticClass:"meta"},[t._v(t._s(o.vicinity))])])])})),0)])],1),t._v(" "),e("div",{staticClass:"map"},[e("client-only",[e("l-map",{attrs:{zoom:13,center:t.center}},[e("l-tile-layer",{attrs:{url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}}),t._v(" "),e("l-marker",{attrs:{"lat-lng":[55.9464418,8.1277591]}})],1)],1)],1)])}),[],!1,null,"e3b77804",null);e.default=component.exports}}]);