(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{589:function(e,t,o){"use strict";o.r(t);o(82),o(50),o(17),o(26),o(28),o(269),o(27),o(174),o(40);var r={layout:"auth",data:function(){return{is_password_eye_open:!1,processing:!1,errorMessage:"",form:{email:"",password:""}}},computed:{isFormValid:function(){return!(!this.form.email||!this.form.password)},togglePasswordEye:function(){return this.is_password_eye_open?"eye-open":"eye-close"}},methods:{handleChange:function(e){e.target.checked?this.$router.push({to:this.$route.path,query:{type:"professional"}}):this.$router.push({to:this.$route.path,query:{type:"patient"}})},handleLogin:function(){var e=this;this.processing=!0;this.$axios.post({patient:"https://medinizebackend.onrender.com/patient/login/",professional:"https://medinizebackend.onrender.com/professional/login/"}[this.$route.query.type],this.form).then((function(t){localStorage.setItem("user",JSON.stringify(t.data)),e.$toastr.s("Welcome back"),e.$router.push("/dashboard")})).catch((function(t){var o;e.errorMessage=t&&(null==t||null===(o=t.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error),e.$toastr.e(e.errorMessage)})).finally((function(){e.processing=!1}))}},mounted:function(){var e=new URLSearchParams(window.location.search);e.set("type","patient");var t="".concat(window.location.pathname,"?").concat(e.toString());window.history.replaceState({},"",t)}},n=o(14),component=Object(n.a)(r,(function(){var e=this,t=e._self._c;return t("main",[t("div",{staticClass:"grid mt-32 max-w-2xl mx-auto"},[t("form",{staticClass:"flex justify-center items-center flex-col space-y-8 w-11/12 mx-auto",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[t("div",[t("h1",{staticClass:"text-2xl text-[#0A7D08] font-bold text-center"},[e._v("\n          Sign in to Medinize\n        ")]),e._v(" "),t("p",{staticClass:"text-sm text-gray-500 text-center"},[e._v("\n          Welcome back! Please enter your details.\n        ")]),e._v(" "),t("div",{staticClass:"flex justify-center items-center"},[t("label",{staticClass:"inline-flex items-center space-x-4 cursor-pointer text-gray-600",attrs:{for:"Toggle1"}},[t("span",[e._v("Patient")]),e._v(" "),t("span",{staticClass:"relative"},[t("input",{staticClass:"hidden peer",attrs:{id:"Toggle1",type:"checkbox"},on:{change:e.handleChange}}),e._v(" "),t("div",{staticClass:"w-10 h-6 rounded-full shadow-inner dark:bg-gray-400 peer-checked:dark:bg-[#0A7D08]"}),e._v(" "),t("div",{staticClass:"absolute inset-y-0 left-0 w-4 h-4 m-1 rounded-full shadow peer-checked:right-0 peer-checked:left-auto dark:bg-white"})]),e._v(" "),t("span",[e._v("Professional")])])])]),e._v(" "),t("div",{staticClass:"w-full"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"py-3 text-sm rounded-md w-full px-3 border outline-none border-gray-300",attrs:{type:"email",placeholder:"Email address"},domProps:{value:e.form.email},on:{input:function(t){t.target.composing||e.$set(e.form,"email",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"w-full relative"},["checkbox"==(e.is_password_eye_open?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"py-3 text-sm rounded-md w-full px-3 border outline-none border-gray-300",attrs:{placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(e.form.password)?e._i(e.form.password,null)>-1:e.form.password},on:{change:function(t){var o=e.form.password,r=t.target,n=!!r.checked;if(Array.isArray(o)){var l=e._i(o,null);r.checked?l<0&&e.$set(e.form,"password",o.concat([null])):l>-1&&e.$set(e.form,"password",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(e.form,"password",n)}}}):"radio"==(e.is_password_eye_open?"text":"password")?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"py-3 text-sm rounded-md w-full px-3 border outline-none border-gray-300",attrs:{placeholder:"Password",type:"radio"},domProps:{checked:e._q(e.form.password,null)},on:{change:function(t){return e.$set(e.form,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"py-3 text-sm rounded-md w-full px-3 border outline-none border-gray-300",attrs:{placeholder:"Password",type:e.is_password_eye_open?"text":"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}}),e._v(" "),t("div",{staticClass:"absolute right-6 top-4"},[t("img",{staticClass:"h-6 w-6 cursor-pointer",attrs:{src:o(134)("./".concat(e.togglePasswordEye,".svg")),alt:""},on:{click:function(t){e.is_password_eye_open=!e.is_password_eye_open}}})])]),e._v(" "),t("div",{staticClass:"w-full"},[t("button",{staticClass:"text-white text-sm md:py-3 py-3 rounded-lg text-center w-full bg-[#0A7D08]",class:[!e.isFormValid||e.processing?"cursor-not-allowed opacity-25":""],attrs:{disabled:!e.isFormValid||e.processing}},[e._v("\n          "+e._s(e.processing?"processing...":"Login")+"\n        ")])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);