(window.webpackJsonp=window.webpackJsonp||[]).push([[14,3],{456:function(t,e,n){t.exports=n.p+"img/like.c412cba.png"},499:function(t,e,n){"use strict";n.r(e);var r={},o=n(19),component=Object(o.a)(r,(function(){this._self._c;return this._m(0)}),[function(){var t=this._self._c;return t("div",{},[t("div",{staticClass:"rounded overflow-hidden shadow-lg animate-pulse"},[t("div",{staticClass:"bg-gray-200 h-72"})])])}],!1,null,null,null);e.default=component.exports},561:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this._self._c;return t("div",[t("img",{staticClass:"h-12 w-12",attrs:{src:n(284),alt:"laceholder"}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center gap-x-3"},[e("button",{staticClass:"text-white bg-green-600 py-2 text-xs w-24 rounded-lg"},[t._v("\n            All posts\n          ")]),t._v(" "),e("p",{staticClass:"text-xs font-medium mt-3"},[t._v("\n            About Community\n          ")])])}],o=n(34),c=n(5),l=(n(81),n(39),n(35),n(49),n(16),n(65),n(43),n(66),n(36),n(122));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){Object(o.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={data:function(){return{loadingPosts:!1,processing:!1,communityIdUniqueKey:"",posts:null,form:{title:"",content:"",community_group:""},content:"<html>Whatâ€™s on your Mind?</html>",title:"Cancer Community"}},head:{title:"Medinize Community | Cancer Group",meta:[{hid:"description",name:"description",content:"Community cancer group"}]},computed:{isFormEmpty:function(){return!!this.form.content}},mounted:function(){this.$nuxt.$emit("toggle"),this.loadCommunityById()},methods:{goBack:function(){this.$router.back()},loadCommunityById:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loadingPosts=!0,n=t.$route.params.id,t.communityIdUniqueKey=t.$route.params.id,e.prev=3,e.next=6,Object(l.h)(n);case 6:o=e.sent,t.posts=null==o||null===(r=o.data)||void 0===r?void 0:r.posts,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:return e.prev=13,t.loadingPosts=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()},formatTimeElapsed:function(t){var e=new Date(t),n=new Date-e,r=Math.floor(n/1e3),o=Math.floor(r/60),c=Math.floor(o/60),l=Math.floor(c/24);return 0===l?0===c?0===o?"Just now":"".concat(o," minute").concat(o>1?"s":""," ago"):"".concat(c," hour").concat(c>1?"s":""," ago"):1===l?"Yesterday":"".concat(l," day").concat(l>1?"s":""," ago")},handleLikePost:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.g)(t.id);case 3:o=n.sent,e.posts=null==o||null===(r=o.data)||void 0===r?void 0:r.posts,e.$toastr.s("success!"),e.loadCommunityById(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:return n.prev=12,e.loadingPosts=!1,n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})))()},handleViewPost:function(t){var e=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(l.i)(t.id);case 3:o=n.sent,e.posts=null==o||null===(r=o.data)||void 0===r?void 0:r.posts,e.$toastr.s("success!"),e.loadCommunityById(),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0);case 12:return n.prev=12,e.loadingPosts=!1,n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,9,12,15]])})))()},createNewPost:function(){var t=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.processing=!0,e.prev=1,n=m(m({},t.form),{},{community_group:t.communityIdUniqueKey}),e.next=5,Object(l.b)(n);case 5:t.$toastr.s("New post was saved successfully."),t.form.content="",t.loadCommunityById(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$toastr.e(e.t0);case 13:return e.prev=13,t.processing=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})))()}}},v=n(19),component=Object(v.a)(f,(function(){var t,e=this,r=e._self._c;return r("main",{staticClass:"space-y-8 pt-6"},[r("div",[r("button",{staticClass:"text-white bg-gray-600 rounded-full font-medium text-xs px-3 py-2.5",on:{click:e.goBack}},[e._v("\n      Go Back\n    ")])]),e._v(" "),r("main",{staticClass:"md:flex md:justify-between md:gap-10"},[r("div",{staticClass:"md:w-6/12"},[r("div",{staticClass:"space-y-6 bg-orange-100 p-6 rounded-md"},[r("div",{staticClass:"flex items-center gap-x-6"},[e._m(0),e._v(" "),r("div",[r("h4",{staticClass:"font-medium text-3xl"},[e._v("\n              "+e._s(null!==(t=e.communityIdUniqueKey)&&void 0!==t?t:"N/A")+"\n            ")]),e._v(" "),r("p",{staticClass:"text-xs font-light"},[e._v("\n              5k members\n            ")])]),e._v(" "),r("div",{staticClass:"font-medium text-green-600 text-sm"},[e._v("\n            Joined\n          ")])]),e._v(" "),e._m(1)]),e._v(" "),r("section",{staticClass:"flex items-start gap-x-16 mt-10 w-full"},[r("div",{staticClass:"space-y-6 w-full"},[r("form",{staticClass:"border rounded-md p-6 space-y-6 w-full bg-white",on:{submit:function(t){return t.preventDefault(),e.createNewPost.apply(null,arguments)}}},[r("h1",{staticClass:"font-medium text-lg"},[e._v("\n              Create Post\n            ")]),e._v(" "),r("div",[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.content,expression:"form.content"}],staticClass:"border outline-none w-full p-3 rounded-md resize-none",attrs:{placeholder:"what would you like to share with the community today?",rows:"10",cols:"10"},domProps:{value:e.form.content},on:{input:function(t){t.target.composing||e.$set(e.form,"content",t.target.value)}}})]),e._v(" "),r("div",{staticClass:"flex justify-end items-end py-3 pr-3"},[r("button",{staticClass:"text-white disabled:opacity-25 disabled:cursor-not-allowed bg-green-600 text-base rounded-full py-2.5 w-3/12",attrs:{disabled:!e.isFormEmpty}},[e._v("\n                "+e._s(e.processing?"loading":"Post")+"\n              ")])])])])])]),e._v(" "),r("div",{staticClass:"overflow-y-auto space-y-6 md:w-6/12 h-[700px]"},[e.posts?r("div",{staticClass:"space-y-6 w-full bg-white p-6 rounded-md"},e._l(e.posts,(function(t,o){return r("div",{key:o,staticClass:"text font-light w-full space-y-4"},[r("div",{staticClass:"p-3 rounded-md border-[0.4px]"},[r("p",{staticClass:"font-medium"},[e._v("\n              "+e._s(t.content)+"\n            ")]),e._v(" "),r("div",{staticClass:"flex items-center gap-x-3 justify-end"},[r("p",{staticClass:"flex items-center font-semibold gap-x-2"},[e._v("\n                "+e._s(t.likes)+"  "),r("img",{staticClass:"h-4 w-4 cursor-pointer",attrs:{src:n(456),alt:""},on:{click:function(n){return e.handleLikePost(t)}}})]),e._v(" "),r("p",{staticClass:"flex items-center font-semibold gap-x-2"},[e._v("\n                "+e._s(t.views)+" "),r("img",{staticClass:"h-4 w-4 cursor-pointer",attrs:{src:n(288),alt:""},on:{click:function(n){return e.handleViewPost(t)}}})])])]),e._v(" "),e._l(t.replies,(function(t,n){return r("div",{key:n,staticClass:"rounded-md border-[0.4px] p-3"},[r("p",[e._v(e._s(t.content))]),e._v(" "),r("p",{staticClass:"text-sm flex justify-end items-end"},[e._v("\n              "+e._s(e.formatTimeElapsed(t.created_at))+"\n            ")])])}))],2)})),0):"Network Error"===e.errorMessage?r("div",{staticClass:"grid place-content-center place-items-center bg-white h-48 w-full py-32"},[r("p",[e._v(" No post available")])]):e._e(),e._v(" "),e.loadingPosts?r("div",{staticClass:"grid place-content-center place-items-center h-48 w-full space-y-3 bg-white py-32"},[r("api-loader"),e._v(" "),r("p",{staticClass:"text-sm text-gray-500 font-medium"},[e._v("\n          Loading posts..\n        ")])],1):e._e()])])])}),r,!1,null,null,null);e.default=component.exports;installComponents(component,{ApiLoader:n(499).default})}}]);